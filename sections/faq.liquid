<section class="py-20 bg-white">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl font-bold text-center mb-16">{{ section.settings.heading }}</h2>
    <div class="max-w-3xl mx-auto space-y-4">
      {% for block in section.blocks %}
        <div class="border border-gray-200 rounded-lg" x-data="{ open: false }" {{ block.shopify_attributes }}>
          <button 
            class="w-full px-6 py-4 text-left flex items-center justify-between font-semibold"
            @click="open = !open"
          >
            {{ block.settings.question }}
            <span x-show="!open" class="text-primary">
              {% render 'icon-plus' %}
            </span>
            <span x-show="open" class="text-primary">
              {% render 'icon-minus' %}
            </span>
          </button>
          <div 
            x-show="open" 
            x-transition:enter="transition ease-out duration-200"
            x-transition:enter-start="opacity-0 transform -translate-y-2"
            x-transition:enter-end="opacity-100 transform translate-y-0"
            x-transition:leave="transition ease-in duration-150"
            x-transition:leave-start="opacity-100 transform translate-y-0"
            x-transition:leave-end="opacity-0 transform -translate-y-2"
            class="px-6 py-4 border-t border-gray-200"
          >
            <p class="text-gray-600 whitespace-pre-line">{{ block.settings.answer }}</p>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "FAQ Section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Section Heading",
      "default": "Frequently Asked Questions"
    }
  ],
  "blocks": [
    {
      "type": "faq",
      "name": "FAQ Item",
      "settings": [
        {
          "type": "text",
          "id": "question",
          "label": "Question"
        },
        {
          "type": "textarea",
          "id": "answer",
          "label": "Answer"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "FAQ Section",
      "blocks": [
        {
          "type": "faq",
          "settings": {
            "question": "How safe are the light kits?",
            "answer": "Our Lightwheel light kits are designed with safety as a top priority. From energy-efficient LED bulbs that stay cool to the touch to robust, insulated connectors that eliminate the risk of shocks, every component has been engineered for reliability and peace of mind. Plus, all kits are tested extensively before shipping."
          }
        },
        {
          "type": "faq",
          "settings": {
            "question": "Why can't I just build my own skateboard lamp?",
            "answer": "While DIY projects can be enjoyable, our kits are crafted to eliminate the challenges and risks involved:\n\n• Quick Setup: Install in just 5 minutes, no complex tools required.\n• Safe Materials: High-quality ceramic bulb holders, textile cables, and secure mounting hardware.\n• Non-Permanent Design: Easily switch between boards without damage.\n• Cost-Effective: Sourcing parts individually often costs more than our all-in-one solution."
          }
        }
      ]
    }
  ]
}
{% endschema %}