{%- paginate blog.articles by 10 -%}
<div class="container mx-auto px-4 py-8">
  <header class="mb-8">
    <h1 class="text-4xl font-bold mb-4">{{ blog.title }}</h1>
    {% if blog.description != blank %}
      <div class="text-gray-600">{{ blog.description }}</div>
    {% endif %}
  </header>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
    {% for article in blog.articles %}
      <article class="bg-white rounded-lg shadow-md overflow-hidden">
        {% if article.image %}
          <div class="aspect-w-16 aspect-h-9">
            <img src="{{ article.image | img_url: '600x400', crop: 'center' }}" 
                 alt="{{ article.title }}"
                 class="w-full h-full object-cover">
          </div>
        {% endif %}
        
        <div class="p-6">
          <h2 class="text-xl font-semibold mb-2">
            <a href="{{ article.url }}" class="hover:text-primary-600">{{ article.title }}</a>
          </h2>
          
          <div class="text-sm text-gray-500 mb-4">
            {{ article.published_at | date: '%B %d, %Y' }}
            {% if article.author %}
              by {{ article.author }}
            {% endif %}
          </div>
          
          <div class="text-gray-600 mb-4">
            {% if article.excerpt != blank %}
              {{ article.excerpt }}
            {% else %}
              {{ article.content | strip_html | truncatewords: 30 }}
            {% endif %}
          </div>
          
          <a href="{{ article.url }}" class="inline-block bg-primary-600 text-white px-4 py-2 rounded hover:bg-primary-700">
            Read more
          </a>
        </div>
      </article>
    {% endfor %}
  </div>

  {% if paginate.pages > 1 %}
    <div class="flex justify-center space-x-4 mt-8">
      {% if paginate.previous %}
        <a href="{{ paginate.previous.url }}" class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300">
          Previous
        </a>
      {% endif %}
      
      {% for part in paginate.parts %}
        {% if part.is_link %}
          <a href="{{ part.url }}" class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300">
            {{ part.title }}
          </a>
        {% else %}
          <span class="px-4 py-2 bg-primary-600 text-white rounded">
            {{ part.title }}
          </span>
        {% endif %}
      {% endfor %}
      
      {% if paginate.next %}
        <a href="{{ paginate.next.url }}" class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300">
          Next
        </a>
      {% endif %}
    </div>
  {% endif %}
</div>
{%- endpaginate -%}

{% schema %}
{
  "name": "Blog pages",
  "settings": [
    {
      "type": "select",
      "id": "layout",
      "label": "Layout",
      "options": [
        {
          "value": "grid",
          "label": "Grid"
        },
        {
          "value": "list",
          "label": "List"
        }
      ],
      "default": "grid"
    }
  ]
}
{% endschema %}