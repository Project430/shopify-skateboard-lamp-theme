{%- if article and article != empty -%}
  <article class="article-card" itemscope itemtype="http://schema.org/BlogPosting">
    {%- if article.image and show_image -%}
      <div class="article-card__image-wrapper">
        <a href="{{ article.url }}" class="article-card__link" aria-label="{{ article.title | escape }}">
          <div class="article-card__image media media--{{ media_height }} media--hover-effect">
            <img
              srcset="{%- if article.image.src.width >= 165 -%}{{ article.image.src | image_url: width: 165 }} 165w,{%- endif -%}
                {%- if article.image.src.width >= 360 -%}{{ article.image.src | image_url: width: 360 }} 360w,{%- endif -%}
                {%- if article.image.src.width >= 535 -%}{{ article.image.src | image_url: width: 535 }} 535w,{%- endif -%}
                {%- if article.image.src.width >= 750 -%}{{ article.image.src | image_url: width: 750 }} 750w,{%- endif -%}
                {%- if article.image.src.width >= 1070 -%}{{ article.image.src | image_url: width: 1070 }} 1070w,{%- endif -%}
                {%- if article.image.src.width >= 1500 -%}{{ article.image.src | image_url: width: 1500 }} 1500w,{%- endif -%}"
              src="{{ article.image | image_url: width: 533 }}"
              sizes="(min-width: {{ settings.page_width }}px) {{ settings.page_width | minus: 100 | divided_by: 2 }}px, (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)"
              alt="{{ article.image.alt | escape }}"
              width="{{ article.image.width }}"
              height="{{ article.image.height }}"
              loading="lazy"
              class="motion-reduce"
            >
          </div>
        </a>
      </div>
    {%- endif -%}

    <div class="article-card__info">
      <header class="article-card__header">
        {%- if show_date -%}
          <span class="article-card__meta caption-with-letter-spacing" itemprop="dateCreated pubdate datePublished">
            {{- article.published_at | time_tag: format: 'date' -}}
          </span>
        {%- endif -%}
        {%- if show_author -%}
          <span class="article-card__author caption-with-letter-spacing">
            {{ article.author }}
          </span>
        {%- endif -%}

        <h3 class="article-card__title" itemprop="headline">
          <a href="{{ article.url }}" class="full-unstyled-link">
            {{ article.title | truncate: 50 | escape }}
          </a>
        </h3>
      </header>

      {%- if show_excerpt -%}
        <div class="article-card__excerpt rte-width rte">
          {%- if article.excerpt.size > 0 -%}
            {{ article.excerpt | strip_html | truncatewords: 30 }}
          {%- else -%}
            {{ article.content | strip_html | truncatewords: 30 }}
          {%- endif -%}
        </div>
      {%- endif -%}

      <div class="article-card__footer">
        <div class="article-card__meta">
          {%- if article.comments_count > 0 and blog.comments_enabled? -%}
            <span>{{ 'blogs.article.comments' | t: count: article.comments_count }}</span>
          {%- endif -%}
        </div>

        <a href="{{ article.url }}" class="link article-card__link" aria-label="{{ 'blogs.article.read_more_title' | t: title: article.title | escape }}">
          {{ 'blogs.article.read_more' | t }}
        </a>
      </div>
    </div>
  </article>
{%- endif -%}