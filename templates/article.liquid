<article class="article">
  <div class="page-width">
    <header class="section-header text-center">
      <h1 class="section-header__title h2">{{ article.title }}</h1>
      <p class="article__author">
        {{ article.published_at | date: "%B %d, %Y" }}
      </p>
    </header>

    <div class="article-container" style="max-width: 800px; margin: 0 auto; padding: 20px;">
      {%- if article.image -%}
        <div class="article__featured-image-wrapper" style="margin-bottom: 2rem;">
          <img
            src="{{ article.image | img_url: '800x' }}"
            alt="{{ article.title }}"
            class="article__featured-image"
            style="width: 100%; height: auto; display: block;"
            loading="lazy"
          >
        </div>
      {%- endif -%}

      <div class="article__content rte" style="font-size: 16px; line-height: 1.6; margin-bottom: 2rem;">
        {{ article.content }}
      </div>

      <div class="article__sharing" style="margin-top: 2rem; border-top: 1px solid #e8e8e8; padding-top: 1rem;">
        <div class="social-sharing" style="display: flex; gap: 1rem; justify-content: center;">
          <a target="_blank" href="//www.facebook.com/sharer.php?u={{ shop.url | append: article.url }}" class="social-sharing__link" style="text-decoration: none;">
            <span class="icon icon-facebook" style="width: 24px; height: 24px;">
              {% include 'icon-facebook' %}
            </span>
            <span class="social-sharing__title" style="font-size: 14px;">Share</span>
          </a>

          <a target="_blank" href="//twitter.com/share?text={{ article.title | url_param_escape }}&url={{ shop.url | append: article.url }}" class="social-sharing__link" style="text-decoration: none;">
            <span class="icon icon-twitter" style="width: 24px; height: 24px;">
              {% include 'icon-twitter' %}
            </span>
            <span class="social-sharing__title" style="font-size: 14px;">Tweet</span>
          </a>

          <a target="_blank" href="//pinterest.com/pin/create/button/?url={{ shop.url | append: article.url }}&media={{ article | img_url: '1024x1024' }}&description={{ article.title | url_param_escape }}" class="social-sharing__link" style="text-decoration: none;">
            <span class="icon icon-pinterest" style="width: 24px; height: 24px;">
              {% include 'icon-pinterest' %}
            </span>
            <span class="social-sharing__title" style="font-size: 14px;">Pin it</span>
          </a>
        </div>
      </div>
    </div>

    {%- if blog.comments_enabled? -%}
      <div id="comments" class="article__comments" style="max-width: 800px; margin: 2rem auto; padding: 20px;">
        {%- if article.comments_count > 0 -%}
          <h2 class="h3">{{ 'blogs.comments.comments_with_count' | t: count: article.comments_count }}</h2>

          {%- paginate article.comments by 5 -%}
            {%- for comment in article.comments -%}
              <div class="comment" style="margin-bottom: 1.5rem; padding: 1rem; background: #f9f9f9; border-radius: 4px;">
                <div class="comment__content" style="margin-bottom: 0.5rem;">
                  {{ comment.content }}
                </div>
                <div class="comment__meta" style="font-size: 14px; color: #666;">
                  {{ comment.author }} on {{ comment.created_at | date: format: 'month_day_year' }}
                </div>
              </div>
            {%- endfor -%}

            {%- if paginate.pages > 1 -%}
              <nav class="pagination">
                {{ paginate | default_pagination }}
              </nav>
            {%- endif -%}
          {%- endpaginate -%}
        {%- endif -%}

        <div class="comment-form" style="margin-top: 2rem;">
          {%- form 'new_comment', article -%}
            <h2 class="h3">{{ 'blogs.comments.title' | t }}</h2>

            {%- if form.errors -%}
              <div class="form-message form-message--error">
                {{ form.errors | default_errors }}
              </div>
            {%- endif -%}

            <div class="grid">
              <div class="grid__item medium-up--one-half">
                <label for="CommentAuthor">{{ 'blogs.comments.name' | t }}</label>
                <input type="text" name="comment[author]" id="CommentAuthor" class="input-full{% if form.errors contains 'author' %} input--error{% endif %}" value="{{ form.author }}" autocapitalize="words">
              </div>

              <div class="grid__item medium-up--one-half">
                <label for="CommentEmail">{{ 'blogs.comments.email' | t }}</label>
                <input type="email" name="comment[email]" id="CommentEmail" class="input-full{% if form.errors contains 'email' %} input--error{% endif %}" value="{{ form.email }}" autocorrect="off" autocapitalize="off">
              </div>

              <div class="grid__item">
                <label for="CommentBody">{{ 'blogs.comments.message' | t }}</label>
                <textarea name="comment[body]" id="CommentBody" class="input-full{% if form.errors contains 'body' %} input--error{% endif %}">{{ form.body }}</textarea>
              </div>
            </div>

            <input type="submit" class="btn" value="{{ 'blogs.comments.post' | t }}">
          {%- endform -%}
        </div>
      </div>
    {%- endif -%}
  </div>
</article>

{% schema %}
{
  "name": "Article pages",
  "settings": []
}
{% endschema %}